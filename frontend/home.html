<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>StudyBuddy - Meu Painel</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <div class="page-shell">
    <div class="board">
      <!-- SIDEBAR (hotbar) -->
      <aside class="hotbar" aria-label="Navega√ß√£o lateral">
        <!-- Marca no topo da hotbar -->
        <a href="home.html" class="hotbar-brand" aria-label="Study Buddy - Home">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M4 5a2 2 0 0 1 2-2h9a3 3 0 0 1 3 3v12a1 1 0 0 1-1.45.9L12 16.76 5.45 18.9A1 1 0 0 1 4 18V5z"/>
          </svg>
          <span>Study Buddy</span>
        </a>

        <div class="hotbar-title">Navega√ß√£o</div>

        <a href="home.html" class="hotbar-link active">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"/></svg>
          <span>Home</span>
        </a>

        <a href="profile.html" class="hotbar-link">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
          <span>Perfil</span>
        </a>

        <a href="create-challenge.html" class="hotbar-link">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
          <span>Criar Desafio</span>
        </a>


        <a href="challenge-detail.html" class="hotbar-link">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
          <span>Desafio</span>
        </a>

        <a href="resumo.html" class="hotbar-link">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M4 19.5A2.5 2.5 0 0 0 6.5 22h11A2.5 2.5 0 0 0 20 19.5V6a2 2 0 0 0-2-2h-3.5L12 2 9.5 4H6a2 2 0 0 0-2 2z"/></svg>
          <span>Resumo</span>
        </a>

        <a href="questions.html" class="hotbar-link">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 1 1 5.82 1c0 2-3 2-3 4"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
          <span>Perguntas</span>
        </a>

        <a href="results.html" class="hotbar-link">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><polyline points="20 6 9 17 4 12"></polyline></svg>
          <span>Resultados</span>
        </a>

      </aside>

      <!-- CONTE√öDO CENTRAL -->
      <main class="content">
        <h1>Meu Painel</h1>

        <div class="dashboard-grid">
          <section class="card">
            <h3>Desafio de qu√≠mica</h3>
            <p>Participantes e ranking din√¢mico aqui...</p>
          </section>

          <section class="card">
            <h3>Progresso</h3>
            <p>Coloque aqui outro conte√∫do do painel (ex.: √∫ltimos estudos, metas, etc.).</p>
          </section>
        </div>
      </main>

      <!-- RIGHT RAIL (STREAK + AVATAR + CALEND√ÅRIO) -->
      <aside class="right-rail">
        <section class="rail-card">
          <div class="rail-header">
            <div class="streak-pill" title="Seu streak">
              <span class="flame">üî•</span>
              <span id="streak-count">12</span>
            </div>
            <a href="profile.html" class="rail-avatar" title="Ir para perfil">
              <img src="https://i.pravatar.cc/64?img=12" alt="Foto do perfil">
            </a>
          </div>

          <div class="calendar-header">
            <button id="prev-month" aria-label="M√™s anterior">&#10094;</button>
            <h4 id="calendar-title"></h4>
            <button id="next-month" aria-label="Pr√≥ximo m√™s">&#10095;</button>
          </div>

          <div class="calendar" id="calendar"></div>
        </section>
      </aside>
    </div>
  </div>

  <!-- SCRIPT: calend√°rio naveg√°vel com dias opacos do m√™s anterior/seguinte -->
  <script>
    const calendarEl = document.getElementById('calendar');
    const titleEl = document.getElementById('calendar-title');
    const prevBtn = document.getElementById('prev-month');
    const nextBtn = document.getElementById('next-month');

    const monthNames = [
      'Janeiro','Fevereiro','Mar√ßo','Abril','Maio','Junho',
      'Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'
    ];

    let current = new Date();

    function renderCalendar(date) {
      calendarEl.innerHTML = '';
      const year = date.getFullYear();
      const month = date.getMonth();
      titleEl.textContent = `${monthNames[month]} ${year}`;

      const today = new Date();

      // Cabe√ßalhos
      const headers = ['S','T','Q','Q','S','S','D'];
      headers.forEach(h => {
        const head = document.createElement('div');
        head.className = 'head';
        head.textContent = h;
        calendarEl.appendChild(head);
      });

      // Dias do m√™s anterior
      const firstDay = new Date(year, month, 1);
      const daysInPrevMonth = new Date(year, month, 0).getDate();
      const offset = (firstDay.getDay() + 6) % 7; // segunda = 0

      for (let i = offset; i > 0; i--) {
        const d = document.createElement('div');
        d.className = 'day faded';
        d.textContent = daysInPrevMonth - i + 1;
        calendarEl.appendChild(d);
      }

      // Dias do m√™s atual
      const daysInMonth = new Date(year, month + 1, 0).getDate();
      for (let day = 1; day <= daysInMonth; day++) {
        const d = document.createElement('div');
        d.className = 'day';
        d.textContent = day;

        if (day === today.getDate() && month === today.getMonth() && year === today.getFullYear()) {
          d.classList.add('current');
        }

        calendarEl.appendChild(d);
      }

      // Dias do pr√≥ximo m√™s para completar a grade
      const totalCells = calendarEl.children.length;
      const remainder = totalCells % 7;
      if (remainder !== 0) {
        const nextDays = 7 - remainder;
        for (let i = 1; i <= nextDays; i++) {
          const d = document.createElement('div');
          d.className = 'day faded';
          d.textContent = i;
          calendarEl.appendChild(d);
        }
      }
    }

    prevBtn.addEventListener('click', () => {
      current.setMonth(current.getMonth() - 1);
      renderCalendar(current);
    });

    nextBtn.addEventListener('click', () => {
      current.setMonth(current.getMonth() + 1);
      renderCalendar(current);
    });

    renderCalendar(current);
  </script>
  <script src="js/app.js"></script>
</body>
</html>
